<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Hexo</title>
  
  
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2023-02-14T15:36:03.953Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>John Doe</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>在 WSL 中安装 Java、Scala、sbt</title>
    <link href="http://example.com/2023/02/14/WSL%20%E5%AE%89%E8%A3%85%20java%E3%80%81Scala%E3%80%81sbt/"/>
    <id>http://example.com/2023/02/14/WSL%20%E5%AE%89%E8%A3%85%20java%E3%80%81Scala%E3%80%81sbt/</id>
    <published>2023-02-14T07:34:24.226Z</published>
    <updated>2023-02-14T15:36:03.953Z</updated>
    
    <content type="html"><![CDATA[<h2 id="环境支持"><a href="#环境支持" class="headerlink" title="环境支持"></a>环境支持</h2><p>因为上学期使用 wsl 进行了项目，所以不需要再安装 riscv 交叉编译工具链，只需要安装 chisel 的环境即可</p><h3 id="安装-Java"><a href="#安装-Java" class="headerlink" title="安装 Java"></a>安装 Java</h3><ol><li>从官网下载 <a href="https://www.oracle.com/cn/java/technologies/downloads/">jdk</a>，复制到 wsl 中的相应目录下（/java）</li><li>在对应目录解压下载的压缩包<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo tar zxvf jdk-17_linux-x64_bin.tar.gz</span><br></pre></td></tr></table></figure></li><li>在 ~/.bashrc 中添加环境变量，并执行 <code>source ~/.bashrc</code><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> JAVA_HOME=/java/jdk-17.0.6</span><br><span class="line"><span class="built_in">export</span> JRE_HOME=<span class="variable">$JAVA_HOME</span>/jre</span><br><span class="line"><span class="built_in">export</span> CLASSPATH=.:<span class="variable">$JAVA_HOME</span>/lib:<span class="variable">$JRE_HOME</span>/lib:<span class="variable">$CLASSPATH</span></span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$JAVA_HOME</span>/bin:<span class="variable">$JRE_HOME</span>/bin:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure></li><li>输入 <code>java -version</code> 验证是否安装成功</li><li>注意，vscode 的插件可能需要手动添加 JAVA_HOME，在 <code>settings.json</code> 中输入以下内容<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;java.autobuild.enabled&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;metals.javaHome&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/java/jdk-17.0.6&quot;</span><span class="punctuation">,</span> <span class="comment">// jdk 压缩包解压的位置</span></span><br><span class="line"><span class="attr">&quot;java.configuration.runtimes&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;JavaSE-17&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/java/jdk-17.0.6&quot;</span><span class="punctuation">,</span> </span><br><span class="line"><span class="attr">&quot;default&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="安装-Scala"><a href="#安装-Scala" class="headerlink" title="安装 Scala"></a>安装 Scala</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install scala</span><br></pre></td></tr></table></figure><h3 id="安装-sbt-环境"><a href="#安装-sbt-环境" class="headerlink" title="安装 sbt 环境"></a>安装 sbt 环境</h3><ol><li>从官网下载 <a href="https://www.scala-sbt.org/download.html">sbt</a>，复制到 wsl 中的相应目录下（~/sbt/）</li><li>在对应目录解压下载的压缩包 <code>tar zxvf sbt-1.8.2.tgz</code>，解压后的目录为<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">sbt</span><br><span class="line">── sbt</span><br><span class="line">   ├── LICENSE</span><br><span class="line">   ├── NOTICE</span><br><span class="line">   ├── bin</span><br><span class="line">   │   ├── sbt</span><br><span class="line">   │   ├── sbt-launch.jar</span><br><span class="line">   │   ├── sbt.bat</span><br><span class="line">   │   ├── sbtn-aarch64-pc-linux</span><br><span class="line">   │   ├── sbtn-x86_64-apple-darwin</span><br><span class="line">   │   ├── sbtn-x86_64-pc-linux</span><br><span class="line">   │   └── sbtn-x86_64-pc-win32.exe</span><br><span class="line">   ├── conf</span><br><span class="line">   │   ├── sbtconfig.txt</span><br><span class="line">   │   └── sbtopts</span><br><span class="line">   └── sbt_text</span><br></pre></td></tr></table></figure></li><li>在 sbt 目录下新建 sbt 脚本 <code>sbt_text</code>，输入以下内容<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">BT_OPTS=<span class="string">&quot;-Xms2048M -Xmx4096M -Xss1M -XX:+CMSClassUnloadingEnabled -XX:MaxPermSize=256M&quot;</span></span><br><span class="line">java <span class="variable">$SBT_OPTS</span> -jar ~/sbt/sbt/bin/sbt-launch.jar <span class="string">&quot;<span class="variable">$@</span>&quot;</span></span><br></pre></td></tr></table></figure></li><li>修改脚本 <code>sbt_text</code> 属性 <code>sudo chmod u+x sbt_text</code></li><li>在 ~/.bashrc 中添加环境变量，并执行 <code>source ~/.bashrc</code><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> SBT_HOME=~/sbt/sbt</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$&#123;SBT_HOME&#125;</span>/bin:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure></li><li>输入 <code>sbt version</code> 验证是否安装成功，第一次初始化需要下载依赖包，若下载速度慢或者出现问题，则在 <code>~/.sbt/</code> 目录下新建 <code>repositories</code> 文件，添加以下内容<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[repositories]</span><br><span class="line">local</span><br><span class="line">huaweicloud-maven: https://repo.huaweicloud.com/repository/maven/</span><br><span class="line">maven-central: https://repo1.maven.org/maven2/</span><br><span class="line">sbt-plugin-repo: https://repo.scala-sbt.org/scalasbt/sbt-plugin-releases, [organization]/[module]/(scala_[scalaVersion]/)(sbt_[sbtVersion]/)[revision]/[type]s/[artifact](-[classifier]).[ext]</span><br></pre></td></tr></table></figure></li><li>vscode 安装 wsl 中的 scala 插件，在插件商店搜索 <code>Scala Extension Pack</code>，里面有 13 个扩展包，按照需求安装即可（带有 scala 的即可），不需要安装所有的插件</li><li>在 <code>Scala (Metals)</code> 插件的设置中设置 <code>Custom Repositories</code> 和 <code>Coursier Mirror</code>，即在 <code>settings.json</code> 中输入以下内容<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;metals.customRepositories&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="string">&quot;https://maven.aliyun.com/repository/central&quot;</span></span><br><span class="line"><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;metals.coursierMirror&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://maven.aliyun.com/repository/public&quot;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure>不出意外，还是不能使用 <code>Metals</code> 插件新建 <code>scala</code> 项目，只会创建出一个空的目录，需要手动创建 <code>build.sbt</code> 文件，之后插件会提示是否需要引入 <code>build</code></li></ol><p><strong>如果还存在其他什么问题，请自行 google</strong></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;环境支持&quot;&gt;&lt;a href=&quot;#环境支持&quot; class=&quot;headerlink&quot; title=&quot;环境支持&quot;&gt;&lt;/a&gt;环境支持&lt;/h2&gt;&lt;p&gt;因为上学期使用 wsl 进行了项目，所以不需要再安装 riscv 交叉编译工具链，只需要安装 chisel 的环境即可&lt;/p</summary>
      
    
    
    
    <category term="神明难再的硬件之旅" scheme="http://example.com/categories/%E7%A5%9E%E6%98%8E%E9%9A%BE%E5%86%8D%E7%9A%84%E7%A1%AC%E4%BB%B6%E4%B9%8B%E6%97%85/"/>
    
    
    <category term="wsl" scheme="http://example.com/tags/wsl/"/>
    
    <category term="java" scheme="http://example.com/tags/java/"/>
    
    <category term="scala" scheme="http://example.com/tags/scala/"/>
    
    <category term="sbt" scheme="http://example.com/tags/sbt/"/>
    
  </entry>
  
</feed>
